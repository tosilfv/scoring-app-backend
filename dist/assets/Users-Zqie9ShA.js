import{R as e,r as n,A as u,b as d,L as C}from"./index-B97Ykex6.js";import{u as g,E as h}from"./ErrorModal-B7DTkNAq.js";import{C as l}from"./Card-3z9CmctK.js";const m=t=>e.createElement("div",{className:`avatar ${t.className}`,style:t.style}),N=t=>{const s=n.useContext(u);return e.createElement(e.Fragment,null,s.isLoggedIn?e.createElement("li",{className:"user-item"},e.createElement(l,{className:"user-item__content"},e.createElement(d,{to:`/${t.id}/courses`},e.createElement("div",{className:"user-item__image"},e.createElement(m,{name:t.name})),e.createElement("div",{className:"user-item__info"},e.createElement("h2",null,t.name),e.createElement("h3",null,t.courseCount," ",t.courseCount===1?"Course":"Courses"))))):e.createElement("li",{className:"user-item"},e.createElement(l,{className:"user-item__content"},e.createElement("div",{className:"user-item__image"},e.createElement(m,{name:t.name})),e.createElement("div",{className:"user-item__info"},e.createElement("h2",null,t.name),e.createElement("h3",null,t.courseCount," ",t.courseCount===1?"Course":"Courses")))))},f=t=>{const s=n.useContext(u);return t.items.length===0?e.createElement("div",{className:"center"},e.createElement(l,null,e.createElement("h2",null,"No users found."))):e.createElement("ul",{className:"users-list"},t.items.map(a=>s.isAdmin&&s.isLoggedIn&&e.createElement(N,{key:a.id,id:a.id,name:a.name,courseCount:a.courses.length})))},x=()=>{const{isLoading:t,error:s,sendRequest:a,clearError:o}=g(),[c,i]=n.useState();return n.useEffect(()=>{(async()=>{let r;try{r=await a("https://scoring-app-backend.onrender.com/api/users")}catch(E){console.log("err Users: ",E)}r&&i(r.users)})()},[a]),e.createElement(e.Fragment,null,e.createElement(h,{error:s,onClear:o}),t&&e.createElement("div",{className:"center"},e.createElement(C,null)),!t&&c&&e.createElement(f,{items:c}))};export{x as default};
