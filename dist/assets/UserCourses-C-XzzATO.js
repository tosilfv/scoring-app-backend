import{r as t,A as E,a as h,R as s,L as g}from"./index-xtEZ8P77.js";import{u as L,E as x}from"./ErrorModal-CGldAPUT.js";import{C as A}from"./CourseList-DG4Bd15D.js";import"./Card-m7_D8XDd.js";const S=()=>{const[a,o]=t.useState(),[m,d]=t.useState(""),{isLoading:n,error:i,sendRequest:c,clearError:p}=L(),C=t.useContext(E),r=h().userId;t.useEffect(()=>{(async()=>{let e;try{e=await c(`https://scoring-app-backend.onrender.com/api/courses/user/${r}`)}catch{}e&&o(e.courses),e&&d(e.user.name)})()},[c,r]);const f=u=>{o(e=>e.filter(l=>l.id!==u))};return s.createElement(s.Fragment,null,s.createElement(x,{error:i,onClear:p}),n&&s.createElement("div",{className:"center"},s.createElement(g,null)),!n&&a&&C.isLoggedIn&&s.createElement(A,{showAllCourses:!1,items:a,onDeleteCourse:f,userId:r,userName:m}))};export{S as default};
