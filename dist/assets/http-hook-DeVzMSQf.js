import{r,R as t,B as C,C as g,c as $,L as v}from"./index-JZdi9Rnb.js";const k=e=>{const n=t.createElement("div",{className:`modal ${e.className}`,style:e.style},t.createElement("header",{className:`modal__header ${e.headerClass}`},t.createElement("h2",null,e.header)),t.createElement("form",{onSubmit:e.onSubmit?e.onSubmit:c=>c.preventDefault()},t.createElement("div",{className:`modal__content ${e.contentClass}`},e.children),t.createElement("footer",{className:`modal__footer ${e.footerClass}`},e.footer)));return $.createPortal(n,document.getElementById("modal-hook"))},y=e=>{const n=r.useRef(null);return t.createElement(t.Fragment,null,e.show&&t.createElement(C,{onClick:e.onCancel}),t.createElement(g,{in:e.show,mountOnEnter:!0,nodeRef:n,unmountOnExit:!0,timeout:200,classNames:"modal"},t.createElement(k,{...e})))},w=e=>e.href?t.createElement("a",{className:`button button--${e.size||"default"} ${e.inverse&&"button--inverse"} ${e.danger&&"button--danger"}`,href:e.href},e.children):e.to?t.createElement(v,{to:e.to,exact:e.exact,className:`button button--${e.size||"default"} ${e.inverse&&"button--inverse"} ${e.danger&&"button--danger"}`},e.children):t.createElement("button",{className:`button button--${e.size||"default"} ${e.inverse&&"button--inverse"} ${e.danger&&"button--danger"}`,type:e.type,onClick:e.onClick,disabled:e.disabled},e.children),R=e=>t.createElement(y,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:t.createElement(w,{onClick:e.onClear},"Okay")},t.createElement("p",null,e.error)),S=()=>{const[e,n]=r.useState(!1),[c,u]=r.useState(),l=r.useRef([]),m=r.useCallback(async(o,f="GET",E=null,h={})=>{n(!0);const s=new AbortController;l.current.push(s);try{const a=await fetch(o,{method:f,body:E,headers:h,signal:s.signal}),i=await a.json();if(l.current=l.current.filter(b=>b!==s),!a.ok)throw new Error(i.message);return n(!1),i}catch(a){if(a.name!=="AbortError")throw u(a.message),a}finally{n(!1)}},[]),d=()=>{u(null)};return r.useEffect(()=>()=>{l.current.forEach(o=>o.abort())},[]),{isLoading:e,error:c,sendRequest:m,clearError:d}};export{w as B,R as E,y as M,S as u};
