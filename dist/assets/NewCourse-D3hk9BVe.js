import{r as v,A as E,u as f,R as e,a as h}from"./index-foS3uHt8.js";import{u as x,I as r,V as s,a as A}from"./form-hook-Lf0HnSx4.js";import{u as I,E as T,B as b}from"./http-hook-qlqJwGvS.js";/* empty css                   */const S=()=>{const n=v.useContext(E),l=f(),{isLoading:i,error:o,sendRequest:d,clearError:c}=I(),[t,a]=x({title:{value:"",isValid:!1},description:{value:"",isValid:!1},address:{value:"",isValid:!1}},!1),u=async p=>{p.preventDefault();try{await d("https://scoring-app-backend.onrender.com/api/courses","POST",JSON.stringify({title:t.inputs.title.value,description:t.inputs.description.value,address:t.inputs.address.value}),{Authorization:"Bearer "+n.token,"Content-Type":"application/json"}),l("/")}catch(m){console.log("err: ",m)}};return e.createElement(e.Fragment,null,e.createElement(T,{error:o,onClear:c}),e.createElement("form",{className:"course-form",onSubmit:u},i&&e.createElement(h,{asOverlay:!0}),e.createElement(r,{id:"title",placeholder:"title",element:"input",type:"text",label:"Title",validators:[s()],errorText:"Please enter a valid title.",onInput:a}),e.createElement(r,{id:"description",placeholder:"description",element:"textarea",label:"Description",validators:[A(5)],errorText:"Please enter a valid description (at least 5 characters).",onInput:a}),e.createElement(r,{id:"address",placeholder:"address",element:"input",label:"Address",validators:[s()],errorText:"Please enter a valid address.",onInput:a}),e.createElement(b,{type:"submit",disabled:!t.isValid},"ADD COURSE")))};export{S as default};
