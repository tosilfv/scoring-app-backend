import{r as v,A as E,u as f,R as e,L as b}from"./index-MT3Oe3R8.js";import{u as h,I as r,V as s,b as x}from"./Input-UBBmU2PG.js";import{u as A,E as I,B as T}from"./ErrorModal-CzjFxKES.js";/* empty css                   */const S=()=>{const n=v.useContext(E),l=f(),{isLoading:i,error:o,sendRequest:d,clearError:c}=A(),[t,a]=h({title:{value:"",isValid:!1},description:{value:"",isValid:!1},address:{value:"",isValid:!1}},!1),u=async p=>{p.preventDefault();try{await d("https://scoring-app-backend.onrender.com/api/courses","POST",JSON.stringify({title:t.inputs.title.value,description:t.inputs.description.value,address:t.inputs.address.value}),{Authorization:"Bearer "+n.token,"Content-Type":"application/json"}),l("/")}catch(m){console.log("err: ",m)}};return e.createElement(e.Fragment,null,e.createElement(I,{error:o,onClear:c}),e.createElement("form",{className:"course-form",onSubmit:u},i&&e.createElement(b,{asOverlay:!0}),e.createElement(r,{id:"title",placeholder:"title",element:"input",type:"text",label:"Title",validators:[s()],errorText:"Please enter a valid title.",onInput:a}),e.createElement(r,{id:"description",placeholder:"description",element:"textarea",label:"Description",validators:[x(5)],errorText:"Please enter a valid description (at least 5 characters).",onInput:a}),e.createElement(r,{id:"address",placeholder:"address",element:"input",label:"Address",validators:[s()],errorText:"Please enter a valid address.",onInput:a}),e.createElement(T,{type:"submit",disabled:!t.isValid},"ADD COURSE")))};export{S as default};
