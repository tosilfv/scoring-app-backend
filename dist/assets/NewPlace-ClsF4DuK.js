import{r as m,A as v,u as E,R as e,a as f}from"./index-JZdi9Rnb.js";import{u as A,I as r,V as s,a as x}from"./form-hook-CWK0Kl06.js";import{u as I,E as T,B as b}from"./http-hook-DeVzMSQf.js";/* empty css                  */const C=()=>{const n=m.useContext(v),i=E(),{isLoading:l,error:o,sendRequest:d,clearError:c}=I(),[t,a]=A({title:{value:"",isValid:!1},description:{value:"",isValid:!1},address:{value:"",isValid:!1}},!1),p=async u=>{u.preventDefault();try{await d("https://scoring-app-backend.onrender.com/api/places","POST",JSON.stringify({title:t.inputs.title.value,description:t.inputs.description.value,address:t.inputs.address.value}),{Authorization:"Bearer "+n.token,"Content-Type":"application/json"}),i("/")}catch{}};return e.createElement(e.Fragment,null,e.createElement(T,{error:o,onClear:c}),e.createElement("form",{className:"place-form",onSubmit:p},l&&e.createElement(f,{asOverlay:!0}),e.createElement(r,{id:"title",element:"input",type:"text",label:"Title",validators:[s()],errorText:"Please enter a valid title.",onInput:a}),e.createElement(r,{id:"description",element:"textarea",label:"Description",validators:[x(5)],errorText:"Please enter a valid description (at least 5 characters).",onInput:a}),e.createElement(r,{id:"address",element:"input",label:"Address",validators:[s()],errorText:"Please enter a valid address.",onInput:a}),e.createElement(b,{type:"submit",disabled:!t.isValid},"ADD PLACE")))};export{C as default};
